<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=0.86, maximum-scale=3.0, minimum-scale=0.86">
    <meta charset="utf-8" />
    <title>Circle Menu</title>
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
</head>
<body>
  <svg id="button" viewBox="-320 -320 640 640" xmlns="http://www.w3.org/2000/svg">
    <defs>
        <filter id="shadow" width="640" height="640" x="-320" y="-320">
            <feDropShadow dx="3" dy="3" stdDeviation="3" style="flood-color: rgba(0, 0, 0, 0.3);" />
        </filter>
        <filter id="bigger-shadow" width="640" height="640" x="-320" y="-320">
            <feDropShadow dx="5" dy="5" stdDeviation="10" style="flood-color: rgba(0, 0, 0, 0.3);" />
        </filter>
    </defs>
    <circle id="main-ring" cx="0" cy="0" r="60" onclick="open_();" open="false"></circle>
    <path id="s-6" class="sector" d="M 100.00000000000003 -173.20508075688772 A 200 200 0 0 0 -99.99999999999996 -173.20508075688775 L 0 0 Z" style="transform: rotate(300deg) scale(0, 0);"></path>
    <path id="s-5" class="sector" d="M 100.00000000000003 -173.20508075688772 A 200 200 0 0 0 -99.99999999999996 -173.20508075688775 L 0 0 Z" style="transform: rotate(240deg) scale(0, 0);"></path>
    <path id="s-4" class="sector" d="M 100.00000000000003 -173.20508075688772 A 200 200 0 0 0 -99.99999999999996 -173.20508075688775 L 0 0 Z" style="transform: rotate(180deg) scale(0, 0);"></path>
    <path id="s-3" class="sector" d="M 100.00000000000003 -173.20508075688772 A 200 200 0 0 0 -99.99999999999996 -173.20508075688775 L 0 0 Z" style="transform: rotate(120deg) scale(0, 0);"></path>
    <path id="s-2" class="sector" d="M 100.00000000000003 -173.20508075688772 A 200 200 0 0 0 -99.99999999999996 -173.20508075688775 L 0 0 Z" style="transform: rotate(60deg) scale(0, 0);"></path>
    <path id="s-1" class="sector" d="M 100.00000000000003 -173.20508075688772 A 200 200 0 0 0 -99.99999999999996 -173.20508075688775 L 0 0 Z" style="transform: rotate(0deg) scale(0, 0);"></path>
    <circle id="inner-ring" cx="0" cy="0" r="60" onclick="open_()"></circle>
  </svg>
  <script>
    let sectors_ = document.getElementsByClassName("sector");
    for (s of sectors_) {
      s.addEventListener("mouseover", function(event) {
        e = event.target; e.style.transform = e.style.transform.replace("scale(1, 1)", "scale(1.1, 1.1)");
        e.style.transitionDelay = "0s";
        e.style.transitionDuration = "0.4s";
      }, false);
      s.addEventListener("mouseleave", function(event) {
        e = event.target; e.style.transform = e.style.transform.replace("scale(1.1, 1.1)", "scale(1, 1)");
        e.style.transitionDelay = "";
        e.style.transitionDuration = "";
      }, false);
    }

    function scaleSectors(x) {
      let sectors = document.getElementsByClassName("sector");
      var i = 5;
      for (s of sectors) {
        if (x == 0) {s.style.transitionDelay = i * 50 + "ms"} else {s.style.transitionDelay = "0." + i + "s"}
        s.style.transform = "rotate(" + i * 60 + "deg) scale(" + x + ", " + x + ")";
        i--;
      }
    }

    function open_() {
      var main_ring = document.getElementById("main-ring");
      var inner_ring = document.getElementById("inner-ring");
      if (main_ring.getAttribute("open") == "false") {
        main_ring.setAttribute("r", "220");
        inner_ring.setAttribute("r", "70");
        scaleSectors(1);
        inner_ring.style.fill = "#9589ce";
        main_ring.setAttribute("open", "true");
      }
      else {
        main_ring.setAttribute("r", "60");
        inner_ring.setAttribute("r", "60");
        scaleSectors(0);
        inner_ring.style.fill = "#baaaff";
        main_ring.setAttribute("open", "false");
      }
    }
  </script>

</body>
</html>